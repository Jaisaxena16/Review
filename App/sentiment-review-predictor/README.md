# StyleHub – NLP-Enhanced Clothing Reviews

StyleHub is a Flask + React application that demonstrates the deliverables for **COSC 2820/2815 – Assignment 3, Milestone II**.  Shoppers can browse clothing items, search by keywords or categories, and create new reviews that are automatically labelled with a recommendation generated by an NLP model.

## Project structure

```
App/
├── public/                # Static assets served by Vite
├── src/                   # React front-end
├── server/                # Flask API used for predictions
├── models/                # Pre-trained artefacts from Milestone I
└── data/                  # Dataset excerpt used to populate the UI
```

## Getting started

### 1. Front-end (React + Vite)

```bash
npm install
npm run dev
```

The development server runs on <http://localhost:5173>.  It consumes the prediction API described below.  You can override the backend URL by creating a `.env` file with `VITE_API_BASE_URL`.

### 2. Backend (Flask prediction service)

```bash
cd server
python -m venv .venv
source .venv/bin/activate  # On Windows use: .venv\Scripts\activate
pip install -r requirements.txt
flask --app app run --host 0.0.0.0 --port 5000
```

Place the pre-trained artefacts generated in Milestone I inside `models/`:

- `logistic_regression_model.pkl`
- `tfidf_vectorizer.pkl`
- `fasttext_model.bin` *(optional – only required if you want to experiment with the earlier FastText workflow)*

When the Flask app is running the health check is available at `GET /api/health` and predictions can be requested via `POST /api/predict` with a JSON payload such as:

```json
{
  "reviewText": "Loved the fit and colour!",
  "rating": 5
}
```

The service returns a JSON response containing the predicted label (`0` or `1`), the model confidence, and the source of the prediction.  If the saved models are missing the API falls back to an interpretable keyword-based heuristic so the front-end remains fully functional.

## Key features

- Keyword-aware search that normalises plural/singular forms (e.g. “dress” vs “dresses”).
- Category filters and responsive grid layout for browsing products.
- Detailed product view with existing reviews and aggregate ratings.
- Review creation form with live NLP predictions that can be overridden by the shopper.
- Graceful fallbacks when the trained model is unavailable, ensuring the UX remains smooth during demonstrations.

## Running the demo end-to-end

1. Start the Flask backend (`flask --app app run ...`).
2. Start the React front-end (`npm run dev`).
3. Visit <http://localhost:5173> to browse products, create reviews, and observe the predicted recommendation label.

For marking, also record a short video (≤3.5 minutes) demonstrating browsing, review creation, and the resulting review page as required by the assignment brief.

## Dataset provenance

The mock catalogue and seed reviews in `src/data/mockData.ts` originate from the Women’s Clothing E-Commerce dataset on Kaggle.  Two additional descriptive columns (“Clothes Title” and “Clothes Description”) were created for Milestone II to enrich the browsing experience.

## Troubleshooting

- **Prediction API unavailable** – Confirm the Flask server is running and that `VITE_API_BASE_URL` matches its origin.  The UI will still operate using the heuristic fallback, but confidence scores will be lower.
- **Model dependencies** – Loading the pickle files requires `scikit-learn`.  Install it into the virtual environment if you want to reproduce the original Milestone I pipeline.  When it is not available the backend automatically switches to the heuristic model.
- **Port conflicts** – Use `npm run dev -- --port <port>` or `flask --app app run --port <port>` to run on alternative ports.

## Licence

This coursework project is provided for educational purposes as part of COSC 2820/2815.  Do not redistribute the proprietary dataset outside the scope of the assignment.
